<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Geolocalizacion 3</title>
</head>
<script>
	function obtenerLocalizacion() {
		//Esta comprobacion nos permite saber si el navegador es capaz de geolocalizar
		if (navigator.geolocation) {//si no existe, el navegador no soporta geolocalizacion
			//En este ejemplo dara un timeout ya que el tiempo maximo de espera
			//es de 0 milisegundos para que nos devuelva la coordenada
			navigator.geolocation.getCurrentPosition(coordenadas,
					gestionaErrores,{timeout:500});
		} else {
			alert('Tu navegador no soporta la API de geolocalizacion. ACTUALIZATE!');
		}
	}
	
	function coordenadas(position) {
		var latitud = position.coords.latitude;
		var longitud = position.coords.longitude;
		alert('Tus coordenadas son: (' + latitud + ',' + longitud + ')');
	}
	
	function gestionaErrores(err) {
		if (err.code == 0) {
			alert("error desconocido");
		}
		if (err.code == 1) {
			alert("El usuario no ha compartido su posicion");
		}
		if (err.code == 2) {
			alert("no se puede obtener la posicion actual");
		}
		if (err.code == 3) {
			alert("timeout recibiendo la posicion");
		}
	}
</script>
<body>
	<a href="javascript:obtenerLocalizacion();">Mostrar Posicion</a>
</body>
</html>
