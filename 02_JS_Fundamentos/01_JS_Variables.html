<!DOCTYPE html>
<html>
<head>
<!-- Si tenemos problemas con las tildes y caracteres especiales podemos establecer UTF8 -->
<meta charset="UTF-8">
<title>Variables JS</title>
</head>
<body>

<script type="text/javascript">
//Esto es un comentario, se ignora por el interprete JS
/*
Esto son varias lineas
de comentarios
*/

// Caracteristicas JS
//--------------------
//Interpretado
//Secuencial
//Orientado a objetos
//Funcional, orientado a funciones
//Fuertemente NO tipado, el tipo de las variables no se decide en tiempo de interpretacion 
// o compilacion, se decide en tiempo de ejecucion.

// Para probar codigo en js podemos usar la funcion alert o usar logs
//alert("Es mejor evitar alerts");
console.log("Esto es un poco mejor que los alerts, f12 para verlos");

// Variables
//-----------
//Podemos guardar cualquier cosa y no tienen declaracion

//Solo puede estar formado por letras, numeros, 
// y los simbolos $ (dolar) y _ (guion bajo).
// El primer caracter no puede ser un numero.

//5 Tipos basicos, enteros, decimales, cadenas de texto, booleanos y arrays
numero1 = 1;
numero2 = 1.5;
texto1 = 'hola';
texto2 = "Adios";
boolean1 = true;
boolean2 = false;

texto3 = "Una frase con 'comillas simples' dentro";
texto4 = 'Una frase con "comillas dobles" dentro';

//De la siguiente forma tambien podemos hacerlo
texto5 = 'Una frase con \'comillas simples\' dentro';
texto6 = "Una frase con \"comillas dobles\" dentro";

//La consola la podemos ver pulsado f12 en el navegador que usemos, una vez
//hayamos cargado la pagina
console.log(numero1);
console.log(numero2);
console.log(texto1);
console.log(texto2);
console.log(boolean1);
console.log(boolean2);
console.log(texto3);
console.log(texto4);
console.log(texto5);
console.log(texto6);

//podemos concatenar a un String
console.log("Vamos a concatenar la variable numero1: " + numero1)
//podemos expandir variables ("`" es la letra al lado de la P)
console.log(`Vamos a expandir la variable numero1: ${numero1}`)

//Si algo vale "0" era false, si vale cualquier otra cosa será true
//Esto se ve mejor con condicionales
boolean3 = 0;
console.log("valor 0: " + boolean3)
boolean3 = 2;
console.log("valor 2: " + boolean3)
//hay varias cositas de estas por javascript...

//podemos poner "var" para declarar variables, en este caso su ambito
//es el de la funcion, si no ponemos nada el ambito sera global
//y se asignara al objeto de windows (del DOM, se vera mas adelante)
var dato = 5;
var dato = 7;//estoy redefiniendo
var movida;//podemos dejar variables sin declarar
//el valor sera undefined
console.log(movida);

//null es un tipo de valor en JS, null indica que la 
//variable guarda una referencia pero no sabemos a donde
var referencia = null;

//podemos reasignar valores de distinto tipo
referencia = 7;
referencia = "Siete";
referencia = true;

//OJO con operaciones imposibles
/* NAN */
var numero1 = 0;   var numero2 = 0;
console.log(numero1/numero2);   //muestra el valor NaN

//alguna funcion interesante para siaber si es un numero
//podemos comprobar los tipos que guarda una variable
console.log(isNaN(texto1));//pregunta si es NO es un numero - true
console.log(isNaN(numero1));//false

//Hay otros dos tipos especiales en las variables
//undefined, cuando no le asingamos ningun valor
//object, se veran mas adelante
if(typeof dato == 'number'){
	console.log("el dato es un numero");
}
if(typeof movida == 'undefined'){
	console.log("La movida es undefined");
}

//let es a partir de las ultimas versiones de js
let num1 = 5;
let txt1 = "otro texto";
//con let NO se puede redefinir una variable
let v1 = 9;
//let v1 = 7; //esto daria un error

//tambien desde las ultimas versiones constantes
//no se puede cambiar su valor
const PI = 3.1416;
console.log(PI);

//AMBITO de las variables
console.log("=========== AMBITO ==============")
function pruebaVar(){
	//las variables que no tienen declaracion
	//(no tienen ni var ni let) son de ambito global
	variable1 = "Esta variable es global"
	//las variables con var su ambito es el de funcion
	var variable2 = "El ambito de esta variable es de la funcion"
	console.log(variable1)
	console.log(variable2)
	
	if(2 > 1){
		var variable3 = "Harry potter es un muggle"
	}
	
	console.log(variable3)//notese que llevo un buen rato sin poner ";" :) :)
}
//console.log(variable1);//no existe
pruebaVar()
console.log(variable1)
//Esta de aquí daria error ya que no tiene alcance
//console.log(variable2)


//LET es basicamente como en java
//el ambito de LET es el de bloque
console.log("========= LET=========")
function pruebaLet(){
	let var1 = 10
	if(true){
		let var2 = 20
	}
	console.log("var1: " + var1)
	//console.log("var2: " + var2) //CASCA!! Esta fuera de su ambito
}
//Esto tambien cascaria
//console.log(var1)

pruebaLet()

/*
RESUMEN DEL ALCANCE DE LAS VARIABLES
*************
Si no ponemos nada, será global, la pongamos donde la pongamos -> dentro del script, dentro de una función o de un bloque. 
Será reescribible

Si ponemos var:
-Dentro de un script, será global
-Dentro de una función, será legible dentro de la función y de los bloques "hijos"
-Dentro de un bloque, será legible dentro de la función "padre" y del propio bloque
*Será reescribible

Si ponemos let:
-Dentro de un script, será global
-Dentro de una función, será legible dentro de la función y de los bloques "hijos"
-Dentro de un bloque, será legible solamente dentro del propio bloque
*Será reescribible

Si ponemos const:
-Dentro de un script, será global
-Dentro de una función, será legible dentro de la función y de los bloques "hijos"
-Dentro de un bloque, será legible solamente dentro del propio bloque
*NO es reescribible (salvo que quede fuera del ámbito, que sería como una variable "nueva")

*************
*/
</script>

<h1> Variables y ambito!! Pulsa F12 para ver la consola</h1>
</body>
</html>